{"ast":null,"code":"const Reducer_64 = (state, action) => {\n  if (action.type === \"CLEAR_CART\") {\n    return {\n      ...state,\n      cart: [],\n      amount: 0,\n      total: 0\n    };\n  }\n  if (action.type === \"INCREASE\") {\n    let tempCart = state.cart.map(cartItem => {\n      if (cartItem.id === action.payload) {\n        return {\n          ...cartItem,\n          amount: cartItem.amount + 1\n        };\n      }\n      return cartItem;\n    });\n    return {\n      ...state,\n      cart: tempCart\n    };\n  }\n\n  //2022-12-21\n  if (action.type === \"DECREASE\") {\n    let tempCart = state.cart.map(cartItem => {\n      if (cartItem.id === action.payload) {\n        return {\n          ...cartItem,\n          amount: cartItem.amount - 1\n        };\n      }\n      return cartItem;\n    });\n    let temp2Cart = tempCart.filter(item => item.amount !== 0);\n    return {\n      ...state,\n      cart: temp2Cart\n    };\n  }\n  if (action.type === \"GET_TOTALS\") {\n    let {\n      total,\n      amount\n    } = state.cart.reduce((cartTotal, cartItem) => {\n      const {\n        price,\n        amount\n      } = cartItem;\n      const itemTotal = price * amount;\n      cartTotal.total += itemTotal;\n      cartTotal.amount += amount;\n      return cartTotal;\n    }, {\n      total: 0,\n      amount: 0\n    });\n    total = parseFloat(total.toFixed(2));\n    return {\n      ...state,\n      total,\n      amount\n    };\n  }\n\n  // if (action.type === 'DECREASE') {\n  //     let tempCart = state.cart.map( (cartItem)=> {\n  //         if(cartItem.id === action.payload) {\n  //             return {...cartItem, amount: cartItem.amount - 1};\n  //         }\n  //         return cartItem;\n  //     });\n  //     return {...state, cart: tempCart}\n  // }\n\n  // if (action.type === 'REMOVE_CART') {}\n\n  if (action.type === \"LOADING\") {\n    return {\n      ...state,\n      loading: true\n    };\n  }\n  if (action.type === \"DISPLAY_ITEMS\") {\n    return {\n      ...state,\n      cart: action.payload,\n      loading: false\n    };\n  }\n  if (action.type === \"REMOVE\") {\n    const filteredCart = state.cart.filter(item => item.id !== action.payload);\n    return {\n      ...state,\n      cart: filteredCart\n    };\n  }\n};\n_c = Reducer_64;\nexport default Reducer_64;\nvar _c;\n$RefreshReg$(_c, \"Reducer_64\");","map":{"version":3,"names":["Reducer_64","state","action","type","cart","amount","total","tempCart","map","cartItem","id","payload","temp2Cart","filter","item","reduce","cartTotal","price","itemTotal","parseFloat","toFixed","loading","filteredCart"],"sources":["D:/1111-wp1-demo-208410364-update/demo/w16_cart/src/Reducer_64.js"],"sourcesContent":["const Reducer_64 = (state, action) => {\r\n  if (action.type === \"CLEAR_CART\") {\r\n    return { ...state, cart: [], amount: 0, total: 0 };\r\n  }\r\n\r\n  if (action.type === \"INCREASE\") {\r\n    let tempCart = state.cart.map((cartItem) => {\r\n      if (cartItem.id === action.payload) {\r\n        return { ...cartItem, amount: cartItem.amount + 1 };\r\n      }\r\n      return cartItem;\r\n    });\r\n    return { ...state, cart: tempCart };\r\n  }\r\n\r\n  //2022-12-21\r\n  if (action.type === \"DECREASE\") {\r\n    let tempCart = state.cart.map((cartItem) => {\r\n      if (cartItem.id === action.payload) {\r\n        return { ...cartItem, amount: cartItem.\r\n        amount - 1 };\r\n      }\r\n      return cartItem;\r\n    });\r\n\r\n    let temp2Cart = tempCart.filter((item)=>item.\r\n    amount !== 0);\r\n\r\n    return { ...state, cart: temp2Cart };\r\n  }\r\n\r\n  if (action.type === \"GET_TOTALS\") {\r\n    let { total, amount } = state.cart.reduce(\r\n      (cartTotal, cartItem) => {\r\n        const { price, amount } = cartItem;\r\n        const itemTotal = price * amount;\r\n        cartTotal.total += itemTotal;\r\n        cartTotal.amount += amount;\r\n        return cartTotal;\r\n      },\r\n      {\r\n        total: 0,\r\n        amount: 0,\r\n      }\r\n    );\r\n\r\n    total = parseFloat(total.toFixed(2));\r\n\r\n    return { ...state, total, amount };\r\n  }\r\n\r\n  // if (action.type === 'DECREASE') {\r\n  //     let tempCart = state.cart.map( (cartItem)=> {\r\n  //         if(cartItem.id === action.payload) {\r\n  //             return {...cartItem, amount: cartItem.amount - 1};\r\n  //         }\r\n  //         return cartItem;\r\n  //     });\r\n  //     return {...state, cart: tempCart}\r\n  // }\r\n\r\n  // if (action.type === 'REMOVE_CART') {}\r\n\r\n  if (action.type === \"LOADING\") {\r\n    return { ...state, loading: true };\r\n  }\r\n\r\n  if (action.type === \"DISPLAY_ITEMS\") {\r\n    return { ...state, cart: action.payload, loading: false };\r\n  }\r\n\r\n  if (action.type === \"REMOVE\") {\r\n    const filteredCart = state.cart.filter(\r\n      (item) => item.id !== action.payload\r\n    );\r\n    return { ...state, cart: filteredCart };\r\n  }\r\n};\r\n\r\nexport default Reducer_64;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}